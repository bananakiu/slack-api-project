(this["webpackJsonpslack-api-project"]=this["webpackJsonpslack-api-project"]||[]).push([[0],{31:function(e,t,r){},67:function(e,t,r){"use strict";r.r(t);var s=r(1),n=r.n(s),a=r(12),c=r.n(a),l=(r(31),r(2)),i=r(4),o=r(3),d=r(6),u=r.n(d),b=r(8),j=r(0),h=function(e){var t=e.errors;return Object(j.jsxs)("div",{id:"errors-display",className:"border-2 rounded-md border-red-600 py-2 px-3 text-red-600 text-left mb-3 w-full",children:[Object(j.jsx)("h1",{className:"text-lg font-bold",children:"Error"}),Object(j.jsx)("ol",{className:"text-sm text-justify list-disc list-inside",children:t.map((function(e,t){return Object(j.jsx)("li",{className:"pt-1",children:e},t)}))})]})},m=r.p+"static/media/Fireside.8027bf54.png",x=function(){var e=Object(b.b)(),t=e.register,r=e.handleSubmit,n=Object(s.useState)([]),a=Object(l.a)(n,2),c=a[0],d=a[1],x=Object(s.useContext)(E),f=x.setLoginUser,p=x.setLoginHeaders,O=x.openPage,g=function(e,t){return t};return Object(j.jsx)("form",{onSubmit:r((function(e){var t=[],r={email:e.email,password:e.password};t=g(r,t),u.a.post("".concat(U,"/api/v1/auth/sign_in"),r).then((function(e){f(e.data.data),p(e.headers)})).catch((function(e){var r,s,n,a,c;(console.log(e),void 0!==(null===e||void 0===e||null===(r=e.response)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.errors))&&((n=t).push.apply(n,Object(o.a)(null===e||void 0===e||null===(a=e.response)||void 0===a||null===(c=a.data)||void 0===c?void 0:c.errors)),d(t))})).then((function(){0===t.length&&O("dashboard")}))})),children:Object(j.jsxs)("div",{className:"bg-gradient-to-b from-purple-300 to-purple-500 min-h-screen flex justify-center items-center ",children:[Object(j.jsx)("div",{className:"hidden lg:flex flex-col self-center p-10 sm:max-w-5xl xl:max-w-2xl",children:Object(j.jsxs)("div",{className:"-mt-12 self-start hidden lg:flex flex-col  text-black",children:[Object(j.jsx)("h1",{className:"mb-3 font-bold text-6xl",children:"Hi, there! \ud83d\udc4b"}),Object(j.jsx)("h1",{className:"ml-1 mt-2 mb-2 font-bold text-2xl",children:"Welcome back to Fireside."}),Object(j.jsx)("p",{className:"mt-2 mr-32 text-gray-800 text-1xl font-semibold",children:"We're looking forward to hearing your stories."})]})}),Object(j.jsx)("div",{className:"flex justify-center self-center",children:Object(j.jsxs)("div",{className:"p-12 bg-white mx-auto rounded-2xl w-100 ",children:[Object(j.jsxs)("div",{className:"flex flex-col items-center justify-center align-center mb-5",children:[Object(j.jsx)("div",{className:"mb-1 h-14 w-14",children:Object(j.jsx)("img",{src:m})}),Object(j.jsx)("p",{className:"mt-1 italic text-gray-500 text-center",children:'"A chat a day, keeps the loneliness away"'}),c.length>0&&Object(j.jsx)("div",{className:"mt-3 -mb-4",children:Object(j.jsx)(h,{errors:c})})]}),Object(j.jsxs)("div",{className:"space-y-5",children:[Object(j.jsxs)("div",{className:"space-y-2",children:[Object(j.jsx)("label",{className:"text-sm font-medium text-gray-700 tracking-wide",children:"Email Address"}),Object(j.jsx)("input",Object(i.a)(Object(i.a)({},t("email")),{},{className:" w-full text-base px-4 py-2 border  border-gray-300 rounded-lg focus:outline-none focus:border-green-400",type:"",placeholder:"johndoe@gmail.com"}))]}),Object(j.jsxs)("div",{className:"space-y-2",children:[Object(j.jsx)("label",{className:"mb-5 text-sm font-medium text-gray-700 tracking-wide",children:"Password"}),Object(j.jsx)("input",Object(i.a)(Object(i.a)({},t("password")),{},{className:"w-full content-center text-base px-4 py-2 border  border-gray-300 rounded-lg focus:outline-none focus:border-green-400",type:"password",placeholder:"Enter your password"}))]}),Object(j.jsxs)("div",{className:"flex items-center justify-between",children:[Object(j.jsxs)("div",{className:"flex items-center",children:[Object(j.jsx)("input",{id:"remember_me",name:"remember_me",type:"checkbox",className:"h-4 w-4 focus:ring-blue-400 border-gray-300 rounded cursor-pointer"}),Object(j.jsx)("label",{className:"ml-2 block text-sm text-gray-800",children:"Remember me"})]}),Object(j.jsx)("div",{className:"text-sm",children:Object(j.jsx)("a",{href:"#",className:"text-purple-600 hover:text-purple-700",children:"Forgot your password?"})})]}),Object(j.jsx)("div",{children:Object(j.jsx)("button",{type:"submit",className:"-mb-7 w-full flex justify-center bg-purple-600  hover:bg-purple-800 text-gray-100 p-3  rounded-full tracking-wide font-semibold  shadow-lg cursor-pointer transition ease-in duration-500",children:"Login"})})]}),Object(j.jsxs)("div",{className:"flex flex-col items-center justify-center mt-10 text-center text-md text-gray-500",children:[Object(j.jsx)("span",{className:"mt-2",children:"Don't have an account?"}),Object(j.jsx)("br",{}),Object(j.jsx)("a",{href:"#",className:"-mt-5 font-bold text-indigo-500 hover:text-indigo-600 no-underline hover:underline cursor-pointer transition ease-in duration-300",onClick:function(){return O("signup")},children:"Sign up"})]}),Object(j.jsx)("div",{className:"pt-5 text-center text-gray-400 text-xs",children:Object(j.jsxs)("span",{children:["Copyright \xa9 2021-2022",Object(j.jsx)("a",{href:"",rel:"",target:"_blank",title:"",className:"text-green hover:text-green-500 "})]})})]})})]})})},f=function(){var e=Object(b.b)(),t=e.register,r=e.handleSubmit,n=Object(s.useState)([]),a=Object(l.a)(n,2),c=a[0],d=a[1],x=Object(s.useContext)(E),f=x.setLoginUser,p=x.setLoginHeaders,O=x.openPage,g=function(e,t){return t};return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("form",{onSubmit:r((function(e){var t=[],r={email:e.email,password:e.password,password_confirmation:e.password_confirmation};t=g(r,t),u()({method:"POST",url:"".concat(U,"/api/v1/auth/"),data:r}).then((function(e){f(e.data.data),p(e.headers)})).catch((function(e){var r,s,n,a;(r=t).push.apply(r,Object(o.a)(null===e||void 0===e||null===(s=e.response)||void 0===s||null===(n=s.data)||void 0===n||null===(a=n.errors)||void 0===a?void 0:a.full_messages)),d(t)})).then((function(){0===t.length&&(O("dashboard"),alert("User successfully created! You are logged in!"))}))})),children:Object(j.jsxs)("div",{className:"bg-gradient-to-b from-purple-300 to-purple-500 min-h-screen flex justify-center items-center ",children:[Object(j.jsx)("div",{className:"hidden xl:flex flex-col self-center p-10 sm:max-w-5xl xl:max-w-2xl",children:Object(j.jsxs)("div",{className:"-mt-12 self-start hidden lg:flex flex-col  text-black",children:[Object(j.jsx)("h1",{className:"mb-3 font-bold text-5xl",children:"Thanks for the interest in our app! \ud83d\ude4f"}),Object(j.jsx)("h1",{className:"ml-1 mt-2 mb-2 font-bold text-2xl",children:"It seems like you haven't registered..."}),Object(j.jsx)("p",{className:"mt-2 mr-32 text-gray-800 text-1xl font-semibold",children:"Please do register in the form found on the right to hop right in Fireside!"})]})}),Object(j.jsx)("div",{className:"flex justify-center self-center",children:Object(j.jsxs)("div",{className:"p-12 bg-white mx-auto rounded-2xl w-100 ",children:[Object(j.jsxs)("div",{className:"flex flex-col items-center justify-center align-center mb-5",children:[Object(j.jsx)("div",{className:"mb-1 h-14 w-14",children:Object(j.jsx)("img",{src:m})}),Object(j.jsx)("p",{className:"mt-1 italic text-gray-500 text-center",children:"\u201cLife is either a daring adventure or nothing at all.\u201d"}),c.length>0&&Object(j.jsx)("div",{className:"mt-3 -mb-4",children:Object(j.jsx)(h,{errors:c})})]}),Object(j.jsxs)("div",{className:"space-y-5",children:[Object(j.jsxs)("div",{className:"space-y-2",children:[Object(j.jsx)("label",{className:"text-sm font-medium text-gray-700 tracking-wide",children:"Email Address"}),Object(j.jsx)("input",Object(i.a)(Object(i.a)({},t("email")),{},{className:" w-full text-base px-4 py-2 border  border-gray-300 rounded-lg focus:outline-none focus:border-green-400",type:"email",placeholder:"johndoe@gmail.com"}))]}),Object(j.jsxs)("div",{className:"space-y-2",children:[Object(j.jsx)("label",{className:"mb-5 text-sm font-medium text-gray-700 tracking-wide",children:"Password"}),Object(j.jsx)("input",Object(i.a)(Object(i.a)({},t("password")),{},{className:"w-full content-center text-base px-4 py-2 border  border-gray-300 rounded-lg focus:outline-none focus:border-green-400",type:"password",placeholder:"Enter your password"}))]}),Object(j.jsxs)("div",{className:"space-y-2",children:[Object(j.jsx)("label",{htmlFor:"password_confirmation",className:"text-sm font-medium text-gray-700 tracking-wide",children:"Confirm Password"}),Object(j.jsx)("input",Object(i.a)(Object(i.a)({},t("password_confirmation")),{},{className:"w-full content-center text-base px-4 py-2 border  border-gray-300 rounded-lg focus:outline-none focus:border-green-400",type:"password",placeholder:"Please retype your password"}))]})]}),Object(j.jsx)("div",{children:Object(j.jsx)("button",{type:"submit",className:"mt-7 -mb-7 w-full flex justify-center bg-purple-600  hover:bg-purple-800 text-gray-100 p-3  rounded-full tracking-wide font-semibold  shadow-lg cursor-pointer transition ease-in duration-500",children:"Create"})}),Object(j.jsx)("div",{className:"flex flex-col items-center justify-center mt-10 text-center text-md text-gray-500",children:Object(j.jsx)("a",{href:"#",className:"mt-5 font-bold text-indigo-500 hover:text-indigo-600 no-underline hover:underline cursor-pointer transition ease-in duration-300",onClick:function(){return O("login")},children:"Already have an account?"})}),Object(j.jsx)("div",{className:"pt-5 text-center text-gray-400 text-xs",children:Object(j.jsxs)("span",{children:["Copyright \xa9 2021-2022",Object(j.jsx)("a",{href:"",rel:"",target:"_blank",title:"",className:"text-green hover:text-green-500 "})]})})]})})]})})})};var p=function(e){var t=Object(s.useContext)(E),r=(t.currentChatName,t.setCurrentChatName),n=t.currentChatId,a=t.setCurrentChatId,c=(t.currentChatType,t.setCurrentChatType),l=(t.currentChatMembers,t.setCurrentChatMembers),i=t.allChannelsDetails;return t.setShowAddMemberForm,Object(j.jsx)("div",{onClick:function(){return function(){var t=i.filter((function(t){return t.id===e.channel.id}))[0].channel_members.map((function(e){return e.user_id}));r(e.channel.name),a(e.channel.id),c("Channel"),l(t)}()},className:"\n        flex justify-between align-center\n        my-1 py-1 px-3\n        bg-gray-100\n        rounded-md\n        hover:bg-gray-200 cursor-pointer ".concat(e.channel.id===n?"bg-gray-300 hover:bg-gray-300":"","\n        transition duration-200\n        "),children:e.children})},O=function(){var e=Object(s.useContext)(E),t=e.allChannels,r=e.setShowCreateChannelForm,n=Object(s.useState)(!1),a=Object(l.a)(n,2),c=a[0],i=a[1];return Object(j.jsxs)("div",{className:" flex flex-col flex-grow min-h-0 mb-1 ",children:[Object(j.jsxs)("h1",{onMouseOver:function(){return i(!0)},onMouseOut:function(){return i(!1)},onClick:function(){return r(!0)},className:" font-semibold text-lg py-2 cursor-pointer ",children:["Channels ",Object(j.jsx)("span",{className:c?"text-xl":"text-gray-300 text-xl",children:"+"})]}),Object(j.jsxs)("ul",{className:"flex flex-col overflow-y-auto",children:[function(e){return void 0!==e&&e.length>0?e.map((function(e,t){return Object(j.jsx)(p,{channel:e,children:e.name},t)})):Object(j.jsx)("h3",{children:"No available channels yet"})}(t),Object(j.jsxs)("button",{type:"button",onClick:function(){return r(!0)},className:" flex items-center justify-start my-1 py-1 px-3 bg-purple-700 hover:bg-purple-800 text-white rounded-md transition duration-200 cursor-pointer ",children:[Object(j.jsx)("div",{className:"",children:"+"}),Object(j.jsx)("div",{className:"ml-2",children:"Add channels"})]})]})]})},g=r(9);var v=function(e){var t;Object(s.useEffect)((function(){var e=function(e){"Escape"===e.key&&r()};return window.addEventListener("keydown",e),function(){return window.removeEventListener("keydown",e)}}),[]);var r=function(){void 0!==(null===e||void 0===e?void 0:e.closeModalFunction)&&e.closeModalFunction(),e.setShowModal(!1)};return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{onFocus:function(e){e.currentTarget===e.target&&r()},tabIndex:"-1",className:"\n        h-screen w-full fixed z-20 inset-0 overflow-y-auto\n        flex justify-center items-center text-center\n        bg-black bg-opacity-50\n        ",children:[Object(j.jsx)("svg",(t={xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"currentColor",className:"bi bi-x",viewBox:"0 0 16 16"},Object(g.a)(t,"className"," fixed z-30 top-0 right-0 mr-5 mt-3 hover:text-white "),Object(g.a)(t,"children",Object(j.jsx)("path",{d:"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"})),t)),e.children]})})},y=r(11),w=function(){var e=Object(b.b)(),t=e.register,r=e.handleSubmit,n=e.control,a=Object(s.useState)([]),c=Object(l.a)(a,2),d=c[0],m=c[1],x=Object(s.useContext)(E),f=x.loginUser,p=x.loginHeaders,O=x.allUsers,g=x.setShowCreateChannelForm,w=x.setAllChannels,N=x.setAllChannelsDetails,C=O.map((function(e){return{value:e.id,label:"".concat(e.uid)}}));return C=C.filter((function(e){return e.value!==f.id})),Object(j.jsx)(v,{setShowModal:g,children:Object(j.jsxs)("form",{onSubmit:r((function(e){if(void 0!==(null===e||void 0===e?void 0:e.user_ids)&&void 0!==(null===e||void 0===e?void 0:e.user_ids)){var t=[],r={name:e.name,user_ids:[f.id].concat(Object(o.a)(e.user_ids.map((function(e){return e.value}))))};u()({method:"POST",url:"".concat(U,"/api/v1/channels"),data:r,headers:{"access-token":p["access-token"],client:p.client,expiry:p.expiry,uid:p.uid}}).then((function(e){var r;(null===(r=e.data)||void 0===r?void 0:r.errors)&&e.data.errors.length>0&&(t.push.apply(t,Object(o.a)(e.data.errors)),m(t))})).catch((function(e){console.error(e.response.data.errors),t.push.apply(t,Object(o.a)(e.response.data.errors)),m(t)})).then((function(){0===t.length&&(alert("Channel created!"),A(p,w,P,N),g(!1))}))}})),tabIndex:"-1",className:" py-4 px-6 border-gray-150 border-2 rounded-lg transition duration-200 bg-white w-96 lg:w-4/12 ",children:[Object(j.jsx)("h1",{className:" self-start text-left text-2xl font-bold mb-2 ",children:"Create an channel"}),Object(j.jsx)("p",{className:" self-start text-left text-m text-gray-500 mb-4 ",children:"Channels are where your team communicates. They\u2019re best when organized around a topic \u2014 #marketing, for example."}),d.length>0&&Object(j.jsx)("div",{className:" flex flex-col justify-center items-center w-full mb-4 ",children:Object(j.jsx)(h,{errors:d})}),Object(j.jsxs)("div",{className:" flex flex-col justify-center items-center mb-4 w-full ",children:[Object(j.jsx)("label",{htmlFor:"name",className:"self-start",children:"Channel Name"}),Object(j.jsx)("input",Object(i.a)(Object(i.a)({},t("name")),{},{type:"text",placeholder:"Channel Name",autoFocus:!0,required:!0,className:" rounded-md w-full "}))]}),Object(j.jsxs)("div",{className:" flex flex-col justify-center items-center mb-4 w-full ",children:[Object(j.jsx)("label",{htmlFor:"user_ids",className:"self-start",children:"Add People"}),Object(j.jsx)(b.a,{name:"user_ids",isClearable:!0,control:n,render:function(e){var t=e.field;return Object(j.jsx)(y.a,Object(i.a)(Object(i.a)({},t),{},{options:C,isMulti:!0,isSearchable:!0,required:!0,placeholder:"People to add",className:"w-full text-left"}))}})]}),Object(j.jsx)("div",{className:" flex justify-end items-center w-full ",children:Object(j.jsx)("button",{className:" py-2 px-4 mt-2 rounded bg-blue-500 hover:bg-blue-700 text-white font-bold ",children:"Create"})})]})})},N=function(){var e=Object(b.b)(),t=e.register,r=e.handleSubmit,n=Object(s.useContext)(E),a=n.loginHeaders,c=n.currentChatType,l=n.currentChatId,o=n.setAllMessages;return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("div",{className:" flex justify-between items-center flex-none h-16 p-4 border-t-2 border-lightgray-600 rounded-b-2xl bg-gray-100",children:Object(j.jsxs)("form",{onSubmit:r((function(e,t){console.log(e),t.target.reset();var r={receiver_id:l,receiver_class:c,body:e.message};u()({method:"POST",url:"".concat(U,"//api/v1/messages"),data:r,headers:{"access-token":a["access-token"],client:a.client,expiry:a.expiry,uid:a.uid}}).then((function(e){C(a,o,l,c)}))})),className:"flex justify-between w-full",children:[Object(j.jsx)("input",Object(i.a)(Object(i.a)({type:"text",autoComplete:"off",placeholder:"Enter your message here",name:"message"},t("message")),{},{className:"w-full m-1 mb-2 py-2 px-3 border-gray-300 border-2 rounded-lg"})),Object(j.jsx)("input",{type:"submit",className:"max-w-max bg-purple-700 hover:bg-purple-800 text-white border-purple-700 border-2 rounded-lg m-1 mb-2 py-2 px-3 cursor-pointer"})]})})})},C=function(e,t,r,s){u()({method:"GET",url:"".concat(U,"/api/v1/messages?receiver_id=").concat(r,"&receiver_class=").concat(s),headers:{"access-token":e["access-token"],client:e.client,expiry:e.expiry,uid:e.uid}}).then((function(e){var r=e.data.data;t(r)})).catch((function(e){var t,r;console.error(null===e||void 0===e||null===(t=e.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.errors)}))},S=function(){var e=Object(s.useContext)(E),t=(e.loginHeaders,e.allMessages),r=(e.setAllMessages,e.currentChatType),n=e.currentChatId,a=e.currentChatName,c=e.currentChatMembers,l=e.setShowAddMemberForm,i=e.loginUser;return Object(j.jsxs)("div",{className:"flex flex-col flex-grow ml-6 rounded-2xl shadow-inner bg-gray-50 h-full",children:[Object(j.jsxs)("div",{className:"flex justify-between items-center flex-none border-b-2 border-lightgray-600 p-4 h-16",children:[Object(j.jsx)("div",{children:Object(j.jsx)("h4",{className:"flex font-bold lowercase ".concat(null===n||void 0===n?"capitalize":""),children:"".concat(null===n||void 0===n?"No Channel/User Selected":a)})}),Object(j.jsx)("div",{className:" flex justify-center align-center ",children:"Channel"===r&&Object(j.jsxs)("button",{type:"button",onClick:function(){return l(!0)},className:" flex justify-between align-center border-gray-300 border-2 hover:bg-gray-200 rounded-lg w-32 px-2 text-center text-gray-500 font-semibold ",children:[Object(j.jsx)("p",{className:"",children:"Members"}),Object(j.jsx)("p",{className:"text-gray-300 font-normal",children:"|"}),Object(j.jsx)("p",{children:c.length})]})})]}),Object(j.jsxs)("div",{className:"flex flex-col flex-grow p-4 overflow-y-auto",children:[null!==n&&void 0!==n&&void 0!==t&&t.length>0&&t.map((function(e,t){return Object(j.jsxs)("div",{className:"flex flex-col mb-2 ".concat(e.sender.id===i.id?"self-end":"self-start"),children:[e.sender.id!==i.id&&Object(j.jsxs)("p",{className:"text-sm self-start ml-1",children:[" ",e.sender.uid.replaceAll("@gmail.com","").replaceAll("@yahoo.com","")," "]}),Object(j.jsxs)("p",{className:"".concat(e.sender.id===i.id?"self-end bg-purple-300":"bg-gray-200"," mt-1 mb-2 py-2 px-3 max-w-max rounded-lg self-start"),children:[" ",e.body]})]},t)})),null!==n&&void 0!==n&&void 0!==t&&0===t.length&&Object(j.jsx)("p",{children:"No message history."}),null===n||void 0===n&&Object(j.jsx)("p",{className:"justify-self-end self-center",children:"Select a channel or user to chat with."})]}),null!==n&&Object(j.jsx)(N,{})]})},k=r.p+"static/media/default_dp.b042d8fa.png",F=function(){var e=Object(s.useContext)(E).loginUser;return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:" flex flex-col items-center justify-center flex-grow-0 bg-gray-100 rounded-2xl shadow-inner py-5 h-52",children:[Object(j.jsx)("img",{className:" rounded-full object-fit h-full ",src:k,alt:"user image"}),Object(j.jsxs)("div",{className:"font-semibold",children:[" ",e.uid]})]})})},_=function(){var e=Object(b.b)(),t=(e.register,e.handleSubmit),r=e.control,n=Object(s.useState)([]),a=Object(l.a)(n,2),c=a[0],d=a[1],m=Object(s.useState)([]),x=Object(l.a)(m,2),f=x[0],p=x[1],O=Object(s.useContext)(E),g=O.loginHeaders,w=O.allUsers,N=O.setShowAddMemberForm,C=O.currentChatId,S=O.currentChatMembers,k=O.currentChatName,F=O.setAllChannels,_=O.setAllChannelsDetails;return Object(s.useEffect)((function(){var e=w.map((function(e){return{value:e.id,label:"".concat(e.uid)}}));e=e.filter((function(e){return!S.includes(e.value)})),p(e)}),[S]),Object(j.jsx)(v,{setShowModal:N,children:Object(j.jsxs)("form",{onSubmit:t((function(e){var t,r;if(void 0!==(null===(t=e.user_id)||void 0===t?void 0:t.label)&&void 0!==(null===(r=e.user_id)||void 0===r?void 0:r.value)){var s=[],n={id:C,member_id:e.user_id.value};u()({method:"POST",url:"".concat(U,"/api/v1/channel/add_member"),data:n,headers:{"access-token":g["access-token"],client:g.client,expiry:g.expiry,uid:g.uid}}).then((function(e){})).catch((function(e){console.error(e.response.data.errors),s.push.apply(s,Object(o.a)(e.response.data.errors)),d(s)})).then((function(){0===s.length&&(alert("User added to channel!"),A(g,F,P,_),N(!1))}))}})),tabIndex:"-1",className:" py-4 px-6 border-gray-150 border-2 rounded-lg transition duration-200 bg-white w-96 lg:w-4/12 ",children:[Object(j.jsx)("h1",{className:" self-start text-left text-2xl font-bold mb-4 ",children:"".concat(k," members")}),c.length>0&&Object(j.jsx)("div",{className:" flex flex-col justify-center items-center w-full mb-4 ",children:Object(j.jsx)(h,{errors:c})}),Object(j.jsxs)("div",{className:" flex flex-col justify-center items-center mb-4 w-full ",children:[Object(j.jsx)("label",{htmlFor:"user_id",className:"self-start",children:"Add people"}),Object(j.jsx)(b.a,{name:"user_id",isClearable:!0,control:r,render:function(e){var t=e.field;return Object(j.jsx)(y.a,Object(i.a)(Object(i.a)({},t),{},{options:f,isSearchable:!0,required:!0,placeholder:"Person to add",className:"w-full text-left"}))}})]}),Object(j.jsxs)("div",{className:" flex flex-col ",children:[Object(j.jsx)("h2",{className:"self-start",children:"Current members"}),Object(j.jsx)("ul",{className:" flex flex-col justify-start items-center mb-4 border-2 rounded-lg h-72 w-full overflow-y-auto\t ",children:void 0!==S&&S.map((function(e,t){var r=function(e,t){return e.filter((function(e){return e.id===t}))[0]}(w,e);return Object(j.jsx)("li",{className:" border-b-2 hover:bg-gray-50 flex justify-center items-center w-full h-10 p-2 ",children:r.uid},t)}))})]}),Object(j.jsx)("div",{className:" flex justify-end items-center w-full ",children:Object(j.jsx)("button",{className:" py-2 px-4 mt-2 rounded bg-blue-500 hover:bg-blue-700 text-white font-bold ",children:"Add"})})]})})},M=function(){var e=Object(s.useContext)(E),t=(e.loginUser,e.allUsers),r=(e.currentChatId,e.setCurrentChatId),n=(e.currentChatType,e.setCurrentChatType),a=(e.currentChatName,e.setCurrentChatName),c=e.setCurrentChatMembers,i=Object(s.useState)([]),o=Object(l.a)(i,2),d=o[0],u=o[1],b=t.map((function(e){return{value:e.id,label:"".concat(e.uid)}}));return Object(s.useEffect)((function(){n("User"),r(d.value),a(d.label),c([])}),[d]),Object(j.jsxs)("form",{className:" flex flex-col items-center justify-center flex-grow-0 h-20 mt-2 ",children:[Object(j.jsx)("h1",{className:" font-semibold text-lg self-start ",children:"Direct Messages"}),Object(j.jsx)("div",{className:" flex flex-col justify-center items-center w-full ",children:Object(j.jsx)(y.a,{options:b,isSearchable:!0,required:!0,placeholder:"Select from this list",className:"w-full text-left",menuPlacement:"auto",onChange:u})})]})},A=function(e,t,r,s){u()({method:"GET",url:"".concat(U,"/api/v1/channels"),headers:{"access-token":e["access-token"],client:e.client,expiry:e.expiry,uid:e.uid}}).then((function(e){var r=e.data.data;return t(r),r})).then((function(t){t?r(t,e,s):s([])})).catch((function(e){var t,r;console.error(null===e||void 0===e||null===(t=e.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.errors)}))},P=function(e,t,r){var s=[];e.forEach((function(e){u()({method:"GET",url:"".concat(U,"/api/v1/channels/").concat(e.id),headers:{"access-token":t["access-token"],client:t.client,expiry:t.expiry,uid:t.uid}}).then((function(e){s.push(e.data.data),r(s)})).catch((function(e){var t,r;console.log(e),console.error(null===e||void 0===e||null===(t=e.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.errors)}))}))},T=function(){var e=Object(s.useContext)(E),t=e.loginHeaders,r=e.allUsers,n=e.setAllUsers,a=(e.allChannels,e.setAllChannels),c=e.showCreateChannelForm,l=e.showAddMemberForm,i=e.allChannelsDetails,o=e.setAllChannelsDetails,d=e.setAllMessages,b=e.currentChatId,h=e.currentChatType,m=e.setCurrentChatMembers;return Object(s.useEffect)((function(){A(t,a,P,o),u()({method:"GET",url:"".concat(U,"/api/v1/users"),headers:{"access-token":t["access-token"],client:t.client,expiry:t.expiry,uid:t.uid}}).then((function(e){n(e.data.data)})).catch((function(e){console.error(e.response.data.errors)})).then((function(){}))}),[]),Object(s.useEffect)((function(){C(t,d,b,h)}),[b]),Object(s.useEffect)((function(){setTimeout((function(){var e=i.filter((function(e){return e.id===b}))[0];if(void 0!==(null===e||void 0===e?void 0:e.channel_members)){var t=e.channel_members.map((function(e){return e.user_id}));m(t)}}),1e3)}),[i]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:" py-6 bg-gradient-to-b from-purple-300 to-purple-500 flex items-center justify-center w-full h-screen border-box ",children:Object(j.jsxs)("div",{className:" flex justify-center bg-white rounded-lg shadow-lg py-10 px-6 w-4/5 h-full  ",children:[Object(j.jsxs)("div",{className:" flex flex-col justify-between w-56 h-full ",children:[Object(j.jsx)(F,{}),Object(j.jsx)(O,{}),r.length>0&&Object(j.jsx)(M,{})]}),Object(j.jsx)(S,{})]})}),Object(j.jsx)("div",{children:c&&r.length>0&&Object(j.jsx)(w,{})}),Object(j.jsx)("div",{children:l&&r.length>0&&Object(j.jsx)(_,{})})]})},U="https://slackapi.avionschool.com",E=n.a.createContext();var I=function(){var e=Object(s.useState)(!0),t=Object(l.a)(e,2),r=t[0],n=t[1],a=Object(s.useState)(!1),c=Object(l.a)(a,2),i=c[0],o=c[1],d=Object(s.useState)(!1),u=Object(l.a)(d,2),b=u[0],h=u[1],m=Object(s.useState)({}),p=Object(l.a)(m,2),O=p[0],g=p[1],v=Object(s.useState)({}),y=Object(l.a)(v,2),w=y[0],N=y[1],C=Object(s.useState)({}),S=Object(l.a)(C,2),k=S[0],F=S[1],_=Object(s.useState)({}),M=Object(l.a)(_,2),A=M[0],P=M[1],U=Object(s.useState)([]),I=Object(l.a)(U,2),L=I[0],D=I[1],H=Object(s.useState)(!1),z=Object(l.a)(H,2),q=z[0],G=z[1],B=Object(s.useState)(!1),J=Object(l.a)(B,2),W=J[0],R=J[1],Y=Object(s.useState)(null),K=Object(l.a)(Y,2),Q=K[0],V=K[1],X=Object(s.useState)(null),Z=Object(l.a)(X,2),$=Z[0],ee=Z[1],te=Object(s.useState)(null),re=Object(l.a)(te,2),se=re[0],ne=re[1],ae=Object(s.useState)([]),ce=Object(l.a)(ae,2),le=ce[0],ie=ce[1],oe=Object(s.useState)([]),de=Object(l.a)(oe,2),ue=de[0],be=de[1];return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(E.Provider,{value:{openPage:function(e){n("login"===e),o("signup"===e),h("dashboard"===e)},isOpenLoginPage:r,setIsOpenLoginPage:n,isOpenSignUpPage:i,setIsOpenSignUpPage:o,isOpenUserDashboard:b,setIsOpenUserDashboard:h,loginHeaders:O,setLoginHeaders:g,loginUser:w,setLoginUser:N,allUsers:k,setAllUsers:F,allChannels:A,setAllChannels:P,allChannelsDetails:L,setAllChannelsDetails:D,showCreateChannelForm:q,setShowCreateChannelForm:G,showAddMemberForm:W,setShowAddMemberForm:R,currentChatId:Q,setCurrentChatId:V,currentChatType:$,setCurrentChatType:ee,currentChatName:se,setCurrentChatName:ne,allMessages:ue,setAllMessages:be,currentChatMembers:le,setCurrentChatMembers:ie},children:Object(j.jsxs)("div",{children:[r&&Object(j.jsx)(x,{}),b&&Object(j.jsx)(T,{}),i&&Object(j.jsx)(f,{})]})})})},L=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,68)).then((function(t){var r=t.getCLS,s=t.getFID,n=t.getFCP,a=t.getLCP,c=t.getTTFB;r(e),s(e),n(e),a(e),c(e)}))};c.a.render(Object(j.jsx)(n.a.StrictMode,{children:Object(j.jsx)(I,{})}),document.getElementById("root")),L()}},[[67,1,2]]]);
//# sourceMappingURL=main.fce73800.chunk.js.map